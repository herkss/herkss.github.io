---
title:  "TODO 프로젝트" 
excerpt: "초간단TODO앱"

categories:
  - Project
tags:
  - [TODO앱, 플러터, Github, ]

toc: true
toc_sticky: true
 
date: 2024-08-06
last_modified_at: 2024-08-06
comments: true
---

<iframe width="956" height="538" src="https://youtu.be/8dcCiC2hJrU?si=U3mrDFaRMf6UbtAh" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

{% include video id="8dcCiC2hJrU" provider="youtube" %}
Flutter로 Todo 앱을 만드는 것은 Flutter의 기본적인 기능들을 익히기에 좋은 프로젝트입니다. 여기에는 기본적인 화면 구성, 상태 관리, 데이터 저장 등이 포함됩니다. 단계별로 진행해 보겠습니다.

### 1. Flutter 프로젝트 생성

터미널에서 새로운 Flutter 프로젝트를 생성합니다.

```bash
flutter create todo_app
cd todo_app
```

### 2. 의존성 추가

`pubspec.yaml` 파일을 열고 필요한 패키지를 추가합니다. 예를 들어, 상태 관리를 위한 `provider` 패키지와, 로컬 데이터 저장을 위한 `shared_preferences` 패키지를 사용할 수 있습니다.

```yaml
dependencies:
  flutter:
    sdk: flutter
  provider: ^6.1.3
  shared_preferences: ^2.0.13
```

패키지를 설치합니다.

```bash
flutter pub get
```

### 3. 데이터 모델 만들기

`lib/models/todo.dart` 파일을 생성하고 Todo 아이템의 모델을 정의합니다.

```dart
class Todo {
  final String id;
  final String title;
  final bool isDone;

  Todo({
    required this.id,
    required this.title,
    this.isDone = false,
  });

  Todo copyWith({
    String? id,
    String? title,
    bool? isDone,
  }) {
    return Todo(
      id: id ?? this.id,
      title: title ?? this.title,
      isDone: isDone ?? this.isDone,
    );
  }
}
```

### 4. 상태 관리 및 데이터 저장

`lib/providers/todo_provider.dart` 파일을 생성하고 상태 관리와 데이터 저장을 위한 클래스를 작성합니다.

```dart
import 'package:flutter/material.dart';
import 'package:shared_preferences/shared_preferences.dart';
import '../models/todo.dart';

class TodoProvider with ChangeNotifier {
  List<Todo> _todos = [];

  List<Todo> get todos => _todos;

  TodoProvider() {
    _loadTodos();
  }

  void addTodo(Todo todo) {
    _todos.add(todo);
    notifyListeners();
    _saveTodos();
  }

  void toggleTodoStatus(String id) {
    final todoIndex = _todos.indexWhere((todo) => todo.id == id);
    if (todoIndex >= 0) {
      final todo = _todos[todoIndex];
      _todos[todoIndex] = todo.copyWith(isDone: !todo.isDone);
      notifyListeners();
      _saveTodos();
    }
  }

  void _saveTodos() async {
    final prefs = await SharedPreferences.getInstance();
    final todosJson = _todos.map((todo) => {
      'id': todo.id,
      'title': todo.title,
      'isDone': todo.isDone,
    }).toList();
    prefs.setString('todos', todosJson.toString());
  }

  void _loadTodos() async {
    final prefs = await SharedPreferences.getInstance();
    final todosJson = prefs.getString('todos');
    if (todosJson != null) {
      final todosList = List<Map<String, dynamic>>.from(todosJson);
      _todos = todosList.map((json) => Todo(
        id: json['id'],
        title: json['title'],
        isDone: json['isDone'],
      )).toList();
      notifyListeners();
    }
  }
}
```

### 5. UI 작성

`lib/main.dart` 파일을 열고 UI를 작성합니다.

```dart
import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import 'providers/todo_provider.dart';
import 'models/todo.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return ChangeNotifierProvider(
      create: (context) => TodoProvider(),
      child: MaterialApp(
        debugShowCheckedModeBanner: false,
        home: TodoListScreen(),
      ),
    );
  }
}

class TodoListScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final todoProvider = Provider.of<TodoProvider>(context);
    return Scaffold(
      appBar: AppBar(
        title: Text('Todo App'),
      ),
      body: ListView.builder(
        itemCount: todoProvider.todos.length,
        itemBuilder: (context, index) {
          final todo = todoProvider.todos[index];
          return ListTile(
            title: Text(todo.title),
            trailing: Checkbox(
              value: todo.isDone,
              onChanged: (value) {
                todoProvider.toggleTodoStatus(todo.id);
              },
            ),
          );
        },
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () {
          showDialog(
            context: context,
            builder: (context) {
              String title = '';
              return AlertDialog(
                title: Text('Add Todo'),
                content: TextField(
                  onChanged: (value) {
                    title = value;
                  },
                  decoration: InputDecoration(hintText: 'Enter todo title'),
                ),
                actions: [
                  TextButton(
                    onPressed: () {
                      if (title.isNotEmpty) {
                        todoProvider.addTodo(Todo(
                          id: DateTime.now().toString(),
                          title: title,
                        ));
                        Navigator.of(context).pop();
                      }
                    },
                    child: Text('Add'),
                  ),
                ],
              );
            },
          );
        },
        child: Icon(Icons.add),
      ),
    );
  }
}
```

이 코드는 간단한 Todo 앱을 만들어주는 기본적인 코드입니다. 필요한 경우 기능을 추가하거나 디자인을 수정하여 앱을 개선할 수 있습니다.
